import socket,time

def recv_data(sock):
    data = sock.recv(2048)
    return data
    
def send_data(sock,data):
    sock.send(data)
    return
    
def main():
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect(("10.18.44.157", 12345))
    while True:
        time.sleep(2)
        print "COMMANDS:"
        print "CU - Create User"
        print "DU - Delete User"
        print "DF - Download File"
        print "GI - Gather Information"
        print "EC - Execute Command"
        print "SCH - Search file"
        
        cmd = raw_input(recv_data(s))
        
        if cmd == "CU":
            send_data(s,cmd)
            send_data(s,raw_input(recv_data(s)))
            send_data(s,raw_input(recv_data(s)))
                    
        elif cmd == "DU":
            send_data(s,cmd)
            send_data(s,raw_input(recv_data(s)))
                
        elif cmd == "DF":
            send_data(s,cmd)
            print recv_data(s)
            send_data(s,raw_input())
            print recv_data(s)
            
        elif cmd == "GI":
            send_data(s,cmd)
            send_data(s,raw_input(recv_data(s)))
            print recv_data(s)
            
        elif cmd == "EC":
            send_data(s,cmd)
            print recv_data(s)
            send_data(s,raw_input())
            print recv_data(s)
            
        elif cmd == "SCH":
            send_data(s,cmd)
            print recv_data(s)
            send_data(s,raw_input())
            data = recv_data(s)
            while(data != "done"):
                print data
                data = recv_data(s)
        
        else:
            send_data(s,cmd)
            print "INVALID"
    
main()    

